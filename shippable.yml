# Language setting
language: java

# Version number
jdk:
  - oraclejdk8

build:

  pre_ci:
    - echo "this is master branch"

  ci:
    - java -version
    - mvn --version
    - mvn clean install -DskipTests
    - mvn sonar:sonar
    - docker build -t hrishi/ms_catalog:latest .

  post_ci:
    - docker push hrishi/ms_catalog:latest

  integrations:
    hub:
      - integrationName: my_private_registry
        type: docker

  cache: true
